{% extends 'standard/base.html' %}
{% load static %}

{% block title %}Vendas{% endblock %}

{% block links %}
    <link rel="stylesheet" href="{% static '/styles/sales/style.css' %}">
{% endblock %}

{% block content_title %}Registrar vendas presenciais{% endblock %}
{% block content %}
    <form action="" method="post">
        <div class="section">
            <div class="title">
                <h3>Selecionar produtos</h3>
            </div>

            <div class="fields_container">
                <div class="field">
                    <select name="product" id="product">
                        <option value="">Produto</option>

                        <!-- Percorrer a lista de produtos (id - nome) -->
                    </select>
                </div>

                <div class="field">
                    <label for="quantity_in_stock">Quantidade</label>
                    <input type="text" name="quantity_in_stock" id="quantity_in_stock">
                </div>

                <div class="field">
                    <label for="total_unit_product"></label>
                    <input type="text" name="total_unit_product" id="total_unit_product">
                </div>
            </div>

            <button type="button">
                Adicionar produto
                <i data-lucide="plus"></i>
            </button>
        </div>

        <div class="section">
            <div class="title">
                <h3>Selecionar cliente</h3>
            </div>

            <div class="fields_container">
                <div class="field">
                    <label for="client">Cliente</label>

                    <input list="clients_list" id="client" name="client">
                    <datalist id="clients_list">
                        <option value="x">X</option>
                        <option value="y">Y</option>
                        <option value="1. Arthur">1. Arthur</option>
                        <option value="2. Mendes">2. Mendes</option>

                        <!-- Percorrer a lista de clientes (id - nome) -->
                    </datalist>
                </div>

                <div class="field">
                    <label for="client_email"></label>
                    <input type="email" name="client_email" id="client_email">
                </div>
            </div>
        </div>

        <div class="section">
            <div class="title">
                <h3>Selecionar meio de pagamento</h3>
            </div>

            <div class="fields_container">
                <div class="field">
                    <select name="payment_method" id="payment_method" required>
                        <option value="">Meio de pagamento</option>
                        <option value="Crédito">Cartão de CRÉDITO</option>
                        <option value="Débito">Cartão de DÉBITO</option>
                        <option value="Boleto bancário">Boleto bancário</option>
                        <option value="PIX">PIX</option>
                    </select>
                </div>

                <div class="field">
                    <label for="total">Valor total da compra</label>
                    <input type="number" name="total" id="total" disabled>
                </div>
            </div>
        </div>

        <button type="submit">Finalizar compra</button>
    </form>

    <div id="sale_created_alert">
        <div class="title">
            <svg xmlns="http://www.w3.org/2000/svg" width="125" height="122" viewBox="0 0 125 122" fill="none">
                <path d="M53.8087 88.9837L97.5774 46.0962L88.8857 37.5795L53.8087 71.9503L36.1149 54.6128L27.4232 63.1295L53.8087 88.9837ZM62.5003 121.834C53.9121 121.834 45.8413 120.237 38.2878 117.043C30.7344 113.849 24.1639 109.515 18.5764 104.04C12.9889 98.5649 8.56543 92.1267 5.30606 84.7253C2.04668 77.3239 0.416992 69.4156 0.416992 61.0003C0.416992 52.585 2.04668 44.6767 5.30606 37.2753C8.56543 29.8739 12.9889 23.4357 18.5764 17.9607C24.1639 12.4857 30.7344 8.15137 38.2878 4.95762C45.8413 1.76387 53.9121 0.166992 62.5003 0.166992C71.0885 0.166992 79.1594 1.76387 86.7128 4.95762C94.2663 8.15137 100.837 12.4857 106.424 17.9607C112.012 23.4357 116.435 29.8739 119.695 37.2753C122.954 44.6767 124.584 52.585 124.584 61.0003C124.584 69.4156 122.954 77.3239 119.695 84.7253C116.435 92.1267 112.012 98.5649 106.424 104.04C100.837 109.515 94.2663 113.849 86.7128 117.043C79.1594 120.237 71.0885 121.834 62.5003 121.834Z" fill="#00E096"/>
            </svg>
        </div>

        <div class="warning">
            <h3>Venda registrada com sucesso</h3>
        </div>
    </div>
{% endblock %}

{% block script %}
<script>
    // Adicionar um event listener no carregamento da página, se vier com "sale_was_created" como true, adicionar a class "show" ao container de venda efetuada e setTimeOut para remover essa classe.
</script>
{% endblock %}
